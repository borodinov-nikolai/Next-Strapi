(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{31937:function(e,t,r){Promise.resolve().then(r.bind(r,65159)),Promise.resolve().then(r.t.bind(r,40431,23))},15919:function(e,t,r){"use strict";r.d(t,{M:function(){return s},W:function(){return o}});var n=r(29222);let o=n.Z.create({baseURL:"http://127.0.0.1:3000/api"}),s=n.Z.create({baseURL:"http://127.0.0.1:1337/api"})},65159:function(e,t,r){"use strict";r.r(t);var n=r(57437),o=r(17519),s=r.n(o),a=r(24033),i=r(2265),u=r(45200);t.default=e=>{let{user:t}=e,[r,o]=i.useState(""),[c,l]=i.useState(""),f=(0,a.useRouter)(),d=[{name:"Имя:",typeName:"name",defaultValue:null==t?void 0:t.name},{name:"Фамилия:",typeName:"surname",defaultValue:null==t?void 0:t.surname},{name:"Адрес:",typeName:"address",defaultValue:null==t?void 0:t.address},{name:"Телефон: +7",typeName:"phone",defaultValue:null==t?void 0:t.phone}];return(0,n.jsx)("div",{className:s().root,children:(0,n.jsx)("ul",{className:s().userinfo_list,children:d.map(e=>{let{name:a,typeName:i,defaultValue:d}=e;return(0,n.jsxs)("li",{className:s().name,children:[(0,n.jsxs)("div",{children:[a," ",r!==i?d:(0,n.jsx)("input",{onChange:e=>l(e.target.value),defaultValue:d,type:"text",onKeyDown:e=>{"Enter"==e.code&&(0,u.zx)(t.id,i,c,f,o,l)}})]}),r!==i?(0,n.jsx)("div",{onClick:()=>{l(d),o(i)},className:s().edit,children:"изменить"}):(0,n.jsx)("div",{onClick:()=>(0,u.zx)(t.id,i,c,f,o,l),className:s().edit,children:"сохранить"})]},i)})})})}},45200:function(e,t,r){"use strict";r.d(t,{I8:function(){return a},IO:function(){return l},Ir:function(){return d},NC:function(){return f},PN:function(){return _},Xq:function(){return c},bu:function(){return i},kS:function(){return u},mM:function(){return s},z2:function(){return o},zx:function(){return p}});var n=r(15919);let o=async(e,t,r,o,s,a)=>{try{await n.W.post("/auth/register",{username:e,email:t,password:r}),o(!0),setTimeout(()=>{s.refresh(),a(!1)},3e3),setTimeout(()=>o(!1),3500)}catch(e){console.error(e)}},s=async(e,t,r,o)=>{try{await n.W.post("/auth/register",{username:e,email:t,password:r}),o(!0),setTimeout(()=>o(!1),3500)}catch(e){console.error(e)}},a=async(e,t,r,o)=>{try{let{data:s}=await n.W.post("/auth/login",{identifier:e,password:t});return r.refresh(),o(!1),s}catch(e){console.error(e.message)}},i=async(e,t)=>{try{let{data:r}=await n.W.post("/auth/login",{identifier:e,password:t});return r}catch(e){console.error(e.message)}},u=async(e,t)=>{try{await n.W.post("/auth/logout"),e.refresh(),t(!1)}catch(e){console.error(e)}},c=async(e,t)=>{var r;await n.W.put("/cart",{id:null==e?void 0:null===(r=e.cart)||void 0===r?void 0:r.id,items:t})},l=async(e,t,r,o,s,a,i)=>{!r||o||s?o&&(await n.W.put("/rating",{value:e,id:o,device:t}),i.refresh()):(await n.W.post("/rating",{value:e,device:t,users_permissions_user:r}),i.refresh())},f=async(e,t)=>{if(t)try{let r=await n.M.get("/ratings",{params:{filters:{users_permissions_user:{id:t},device:{id:e}}}});return r}catch(e){console.error(e)}},d=async(e,t,r,o)=>{try{r&&await n.W.post("/comment",{text:e,device:t,user:r}),o.refresh()}catch(e){console.error(e)}},_=async(e,t,r)=>{try{await n.W.post("/comment",{device:e,user:t}),r.refresh()}catch(e){console.error(e)}},p=async(e,t,r,o,s,a)=>{try{await n.W.put("/account",{userID:e,dataType:t,dataValue:r}),o.refresh(),s(""),a("")}catch(e){console.error(e)}}},40431:function(e){e.exports={root:"account_root__BOQdB",username:"account_username__RIqnw",userinfo:"account_userinfo__d5Q3C"}},17519:function(e){e.exports={root:"editInfo_root__hrY7_",userinfo_list:"editInfo_userinfo_list__6Vzzi",edit:"editInfo_edit__EZ_Sc"}},30622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,n)&&!u.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:l,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},57437:function(e,t,r){"use strict";e.exports=r(30622)},24033:function(e,t,r){e.exports=r(68165)}},function(e){e.O(0,[927,971,596,744],function(){return e(e.s=31937)}),_N_E=e.O()}]);